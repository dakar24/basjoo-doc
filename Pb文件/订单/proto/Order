package com.qjoy.basjoo.core.model.pb;

option java_package="com.qjoy.basjoo.core.model.pb";


//提交订单
message CommitOrderRequest {   

     //产品Id
    required string                 productId = 1; 
	
	//类别信息
	required string                 categoryId = 2;	
	
	 //租用数量
	required int32                  rentCount = 3;
	
	 //选择租金的编码
	required string                 rentCode = 4;
	
	//是否选择运费险
	required bool                   insurance = 5;
	
	//订单Id（如果对已提交的订单进行修改时需要带之前返回的orderId）
    optional string                 orderId = 6; 
	
	//只计算价格，不需要返回权益和收货地址等信息
	required bool                   onlyCalPrice = 7;
    
}


//提交订单结果
message CommitOrderResult {  

	//是否成功
	required bool                   success = 1;

    required string                 resultCode = 2;
    
    required string                 resultMsg = 3; 
	
    //订单Id
    optional string                 orderId = 4; 
	 
	//用户提交订单时所选的类别信息
	required string                 categoryId = 5;	
	
	 //用户提交订单时所选的租用数量
	required int32                  rentCount = 6;
	
	 //用户提交订单时所选的租金的编码
	required string                 rentCode = 7;
	
	//是否选择运费险
	required bool                   insurance = 8;
	
	//运费险金额
    optional double                 insurancePrice = 9; 
	
	 //押金
    optional double                 pledgePrice = 10; 
   
    //运费
    optional double                 transportationPrice = 11; 
	
	//该周期内总租金
    required double                 totalRentPrice = 12; 
	
	//是否有可使用的权益
	required bool                   hasVoucher  = 13;
	
	//总金额 （押金+运费）*数量 +运费险 ,运费和运费险金额可为 0
	required double                 totalPrice = 14;
	
	
	//订单收货地址信息
	optional OrderReceiveAddressInfo orderReceiveAddressInfo = 15;
	

    
}

message OrderReceiveAddressInfo{
    //地址ID
    required string                 addressId = 1; 
	//收件人
    required string                 receiver = 2;
	//手机号
	required string                 mobileNo = 3;	
	//详细地址
	required string                 addressDetail = 4;
}


//确认订单
message ConfirmOrderRequest {   

     //产品Id
    required string                 productId = 1; 
	
	//类别信息
	required string                 categoryId = 2;	
	
	 //租用数量
	required int32                  rentCount = 3;
	
	 //选择租金的编码
	required string                 rentCode = 4;
	
	//是否选择运费险
	optional bool                   insurance = 5;
	
	//订单Id
    required string                 orderId = 6; 
	
	 //用户选择的地址ID
    required string                 addressId = 7;
	
	//用户选择的权益
	repeated string                 vouchers = 8;
	
	//用户留言（买家留言）
	optional string                 userMessage = 9;
	
	//支付渠道，0：微信支付，1：支付宝
	optional int32                  payChannel = 10;
    
}

//确认订单结果（支付信息待补充）
message ConfirmOrderResult {
  
    //是否成功
	required bool                   success = 1;

    required string                 resultCode = 2;
    
    required string                 resultMsg = 3; 

    //订单Id
    optional string                 orderId = 4; 
	
	//支付渠道，0：微信支付，1：支付宝
	optional int32                  payChannel = 5;

    //微信订单支付信息
    optional WxPayInfo              wxPayInfo = 6; 

	
}

//微信订单支付信息
message WxPayInfo{

    //商户ID
    required string                 partnerId = 1;
    //微信预支付ID
    required string                 prepayId = 2; 
	//微信包Sign=WXPay
	required string                 package = 3;
    //唯一ID随机数
    required string                 nonceStr = 4; 
	//时间戳
	required string                 timeStamp = 5;
    //签名
    required string                 sign = 6; 
	//appid
    required string                 appid = 7; 
	
}



//确认付款（从未付款的订单提交）
message ConfirmPayRequest {   

     //订单ID
    required string                 orderId = 1; 	
	
   //支付渠道，0：微信支付，1：支付宝
	optional int32                  payChannel = 2;	
    
}

//确认付款结果（从未付款的订单提交）
message ConfirmPayResult {   

    //是否成功
	required bool                   success = 1;

    required string                 resultCode = 2;
    
    required string                 resultMsg = 3; 

    //订单Id
    optional string                 orderId = 4; 
	
	//支付渠道，0：微信支付，1：支付宝
	optional int32                  payChannel = 5;

    //微信订单支付信息
    optional WxPayInfo              wxPayInfo = 6; 		
    
}


//查询支付状态结果
message GetPayStatusRequest {   

     //订单ID
    required string                 orderId = 1; 
    
}


//查询支付状态结果
message GetPayStatusResult {   
    
	
	//是否成功
	required bool                   success = 1;

	//100 支付成功，101 支付失败，999系统异常（网络繁忙未捕获异常等）
    required string                 resultCode = 2;
    
    required string                 resultMsg = 3; 
	
	 //订单ID
    required string                 orderId = 4; 
	
	//支付渠道，0：微信支付，1：支付宝
	optional int32                  payChannel = 5;
    
}


//搜索订单列表
message SearchOrderListRequest{

  //搜索关键字,订单ID
  optional string keyWords = 1;
  
  //订单状态 0:全部订单,1:待付款，2:待发货，3：待收货，4：待归还，5：待退款，6：交易成功，7：交易关闭
  optional int32 orderStatus = 2;
  
  //评价状态
  optional bool  evaluateStauts =3;
  
  //起始index
  optional int32 startIndex = 4;
  
  //订单起始时间
  optional int64 startTime = 5;
  
  //订单结束时间
  optional int64 endTime = 6;
}


//搜索订单结果
message SearchOrderListResult{

  //是否成功
  required bool     success = 1;

  required string   resultCode = 2;
    
  required string   resultMsg = 3; 
  
  //当前最大index
  optional int32    maxIndex = 4;
   
  //是否还有更多数据
  required bool     hasMore  = 5;
  
  //待付款
  required int32    waitPayCount = 6;
  
  //待发货
  required int32    waitDeliveryCount = 7;
  
  //待收货
  required int32    waitReceiveCount = 8;
  
  //待归还
  required int32    waitRevertCount = 9;
  
  //待评价
  required int32    waitEvaluateCount = 10;
  
  //总数
  required int32    totalCount = 11;
  
  //订单简要信息
  repeated OrderLiteInfo orderLiteInfo = 12;
}

//订单简要信息
message OrderLiteInfo{
   //订单Id
   required string       orderId = 1; 
   
   //订单状态 0:全部订单,1:待付款，2:待发货，3：待收货，4：待归还，5：待退款，6：交易成功，7：交易关闭
   required int32        orderStatus = 2; 
   
   //创建时间
   required int64        createTime  = 3;
   
   //起租时间
   required int64        rentStartTime =4;
   
   //到期时间
   required int64        rentEndTime =5;   
   
   //租用天数
   required int32        rentDays =6;
   
   //租用件数
   required int32        rentCount = 7; 
   
   //租金总价
   required double       rentPrice = 8; 
   
   //押金
   required double       pledgePrice = 9; 
   
   //运费
   optional double       transportationPrice = 10;
 
   //该周期内总价
   required double       totalPrice = 11; 

   //物流ID
   optional string       transportationId = 12;

   //评价状态
   optional bool         evaluateStauts = 13;      
 
   //产品Id
   required string      productId = 14;    
     
   //大图地址
   required string      mainImageUrl = 15; 
   
   //描述
   required string      desc = 16;    
 
   //类别名称
   required string      categoryName = 17; 
 
}


//删除订单请求
message DeleteOrderRequest {      
	
    //订单ID
    required string                 orderId = 1; 	
    
}


//删除订单结果
message DeleteOrderResult { 
   
   //是否成功
   required bool                   success = 1;     
	
   required string                 resultCode = 2;
    
   required string                 resultMsg = 3;
    
}

//确认收货请求
message ConfirmReceiveRequest {      
	
    //订单ID
    required string                 orderId = 1; 	
    
}


//确认收货结果
message ConfirmReceiveResult {
      
   //是否成功
   required bool                   success = 1;
	
   required string                 resultCode = 2;
    
   required string                 resultMsg = 3;
    
}

//申请归还请求
message ApplyRevertRequest {      
	
    //订单ID
    required string                 orderId = 1; 

    //退还方式 1：快递归还，2：现场归还
    required string                 applyRevertType = 2; 	
	
	//快递号
    optional string                 transportationId = 3; 	
	
	//快递公司
    optional string                 transportationCompany = 4; 
    
    
}


//申请归还结果
message ApplyRevertResult {  

   //是否成功
   required bool                   success = 1;    
	
   required string                 resultCode = 2;
    
   required string                 resultMsg = 3;
    
}


//获取订单详情请求
message GetOrderDetailRequest {      
	
    //订单ID
    optional string                 orderId = 1; 	
    
}


//获取订单详情结果
message GetOrderDetailResult{

  //是否成功
  required bool     success = 1;

  required string   resultCode = 2;
    
  required string   resultMsg = 3; 
  
  //订单详细信息
  required OrderDetailInfo orderDetailInfo = 4;
}


//订单详细信息
message OrderDetailInfo{
   //产品Id
   required string       orderId = 1; 
   
   //订单状态 0:全部订单,1:待付款，2:待发货，3：待收货，4：待归还，5：待退款，6：交易成功，7：交易关闭
   required int32        orderStatus = 2; 
   
   //创建时间
   required int64        createTime  = 3;
   
   //起租时间
   required int64        rentStartTime =4;
   
   //到期时间
   required int64        rentEndTime =5;   
   
   //租用天数
   required int32        rentDays =6;
   
   //租用件数
   required int32        rentCount = 7; 
   
   //租金总价
   required double       rentPrice = 8; 
   
   //押金
   required double       pledgePrice = 9; 
   
   //运费
   optional double       transportationPrice = 10;
 
   //该周期内总价
   required double       totalPrice = 11; 

   //物流ID
   optional string       transportationId = 12;

   //评价状态
   optional bool         evaluateStauts = 13;      
 
   //产品Id
   required string      productId = 14;    
     
   //大图地址
   required string      mainImageUrl = 15; 
   
   //描述
   required string      desc = 16;    
 
   //类别名称
   required string      categoryName = 17; 
   
   //支付时间
   optional int64       payTime =18;
   
   //支付订单号
   optional string      payId = 19;
   
   //支付渠道
   optional string      payChannel = 20;
   
   //发货时间
   optional int64      deliveryTime = 21;
  
   //收货时间
   optional int64      receiveTime = 22;
  
   //归还时间
   optional int64      revertTime = 23;
   
   //成交时间（成功）
   optional int64      completeTime = 24;
   
   //关闭时间
   optional int64      closeTime = 25;   
   
   //用户选择的权益
   repeated string     vouchers = 26;
   //订单收货地址信息
   optional OrderReceiveAddressInfo orderReceiveAddressInfo = 27;
    
}






